<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Learn</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Minimal Navigation -->
    <nav id="navbar">
        <div class="nav-inner">
            <div class="nav-left">
                <span class="logo">Neural Learn</span>
                <div class="breadcrumb" id="breadcrumb"></div>
            </div>
            <div class="nav-center">
                <div class="mode-toggle">
                    <button class="mode-btn active" data-mode="learn" onclick="switchMode('learn')">Learn</button>
                    <button class="mode-btn" data-mode="create" onclick="switchMode('create')">Create</button>
                </div>
            </div>
            <div class="nav-right">
                <span class="progress-badge" id="progressBadge">0%</span>
                <span class="streak-badge">üî• <span id="streak">0</span></span>
            </div>
        </div>
    </nav>

    <!-- Learn Mode - Fluid Grid Layout -->
    <div id="learnMode" class="mode-container active">
        <div class="fluid-grid">
            
            <!-- Top Section: Course & Lesson Info -->
            <section class="grid-section course-header">
                <div class="course-selector-inline" id="courseSelectorInline"></div>
                <h1 class="lesson-title" id="lessonTitle">Select a course to begin</h1>
                <div class="lesson-meta" id="lessonMeta"></div>
            </section>

            <!-- Main Content Grid -->
            <div class="content-grid">
                
                <!-- Left: Navigation & Progress -->
                <aside class="grid-nav">
                    <div class="module-tree compact" id="moduleTree"></div>
                    <div class="progress-widget">
                        <div class="progress-ring-mini">
                            <svg width="60" height="60">
                                <circle cx="30" cy="30" r="25" class="progress-bg"></circle>
                                <circle cx="30" cy="30" r="25" class="progress-fill" id="progressRing"></circle>
                            </svg>
                            <span class="progress-text" id="progressText">0%</span>
                        </div>
                        <div class="segment-dots" id="segmentDots"></div>
                    </div>
                </aside>

                <!-- Center: Main Content -->
                <main class="grid-content">
                    <div class="content-wrapper">
                        <!-- Segment Header -->
                        <div class="segment-header">
                            <span class="segment-type" id="segmentType">Introduction</span>
                            <span class="segment-nav">
                                <button class="nav-mini" onclick="navigateSegment('prev')" id="prevBtn">‚Üê</button>
                                <span id="segmentIndex">1/10</span>
                                <button class="nav-mini" onclick="navigateSegment('next')" id="nextBtn">‚Üí</button>
                            </span>
                        </div>

                        <!-- Text Content -->
                        <div class="content-text" id="contentText"></div>

                        <!-- Dynamic Content Area -->
                        <div class="dynamic-content" id="dynamicContent">
                            <!-- Visuals Grid -->
                            <div class="visuals-grid" id="visualsGrid"></div>
                            
                            <!-- Code Block -->
                            <div class="code-block" id="codeBlock" style="display: none;">
                                <div class="code-header">
                                    <span id="codeLang">Python</span>
                                    <button onclick="copyCode()">Copy</button>
                                </div>
                                <pre><code id="codeContent"></code></pre>
                            </div>

                            <!-- Data Visualization -->
                            <div class="data-viz" id="dataViz"></div>
                        </div>

                        <!-- Inline Audio Player -->
                        <div class="audio-player-inline">
                            <button class="play-btn" onclick="toggleAudio()" id="playBtn">‚ñ∂</button>
                            <div class="audio-progress" id="audioProgress">
                                <div class="audio-bar">
                                    <div class="audio-fill" id="audioFill"></div>
                                </div>
                                <span class="audio-time" id="audioTime">0:00</span>
                            </div>
                            <button class="speed-btn" onclick="cycleSpeed()" id="speedBtn">1x</button>
                            <audio id="audioPlayer"></audio>
                        </div>
                    </div>
                </main>

                <!-- Right: Context & Tools -->
                <aside class="grid-tools">
                    <!-- Key Concepts -->
                    <div class="tool-widget" id="conceptsWidget">
                        <h4>Key Concepts</h4>
                        <div class="concept-tags" id="conceptTags"></div>
                    </div>

                    <!-- Quick Notes -->
                    <div class="tool-widget">
                        <h4>Quick Notes</h4>
                        <textarea class="notes-input" id="notesInput" placeholder="Jot down thoughts..."></textarea>
                    </div>

                    <!-- References -->
                    <div class="tool-widget" id="referencesWidget">
                        <h4>References</h4>
                        <div class="reference-list" id="referenceList"></div>
                    </div>

                    <!-- Related Topics -->
                    <div class="tool-widget" id="relatedWidget">
                        <h4>Explore Next</h4>
                        <div class="related-items" id="relatedItems"></div>
                    </div>
                </aside>
            </div>

            <!-- Bottom Timeline -->
            <section class="grid-timeline">
                <div class="timeline-track" id="timelineTrack"></div>
            </section>
        </div>
    </div>

    <!-- Create Mode - Efficient Layout -->
    <div id="createMode" class="mode-container">
        <div class="create-layout">
            <!-- Structure Tree -->
            <aside class="create-tree">
                <div class="tree-header">
                    <input type="search" placeholder="Search content..." class="tree-search">
                    <button class="btn-new" onclick="showNewDialog()">+</button>
                </div>
                <div class="tree-content" id="treeContent"></div>
            </aside>

            <!-- Editor Area -->
            <main class="create-editor">
                <div class="editor-tabs">
                    <button class="tab active" onclick="switchTab('edit')">Edit</button>
                    <button class="tab" onclick="switchTab('preview')">Preview</button>
                    <button class="tab" onclick="switchTab('media')">Media</button>
                </div>
                <div class="editor-content" id="editorContent">
                    <div class="empty-state">
                        <p>Select content to edit or create new</p>
                    </div>
                </div>
            </main>

            <!-- Quick Actions -->
            <aside class="create-actions">
                <div class="action-panel">
                    <h4>Audio Queue</h4>
                    <div class="queue-stats">
                        <span class="stat">Pending: <strong id="pendingCount">0</strong></span>
                        <span class="stat">Processing: <strong id="processingCount">0</strong></span>
                    </div>
                    <button class="btn-action" onclick="generateAllAudio()">Generate All</button>
                </div>
            </aside>
        </div>
    </div>

    <!-- Minimal Floating Tools -->
    <div class="float-tools">
        <button class="tool-btn" onclick="toggleSearch()" title="Search">üîç</button>
        <button class="tool-btn" onclick="toggleBookmarks()" title="Bookmarks">üîñ</button>
        <button class="tool-btn" onclick="toggleHelp()" title="Help">?</button>
    </div>

    <script src="script.js"></script>
</body>
</html>